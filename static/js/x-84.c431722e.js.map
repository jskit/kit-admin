{"version":3,"sources":["webpack:///./src/views/zip/index.vue?ee74","webpack:///src/views/zip/index.vue","webpack:///./src/views/zip/index.vue?bf64","webpack:///./src/views/zip/index.vue","webpack:///./src/api/request/index.js","webpack:///./src/api/old/article.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","placeholder","$t","prefix-icon","model","value","callback","$$v","filename","expression","margin-bottom","type","icon","loading","downloadLoading","on","click","handleDownload","_v","_s","directives","name","rawName","modifiers","body","data","list","element-loading-text","border","fit","highlight-current-row","align","label","scopedSlots","_u","key","fn","scope","$index","row","title","author","pageviews","display_time","staticRenderFns","zipvue_type_script_lang_js_","listLoading","created","fetchData","methods","_this","Object","article","then","res","items","formatJson","filterVal","jsonData","map","v","j","views_zipvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axios","d","fetchList","fetchArticle","fetchPv","createArticle","updateArticle","_api_request__WEBPACK_IMPORTED_MODULE_0__","query","request","url","method","params","pv"],"mappings":"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","file":"static/js/x-84.c431722e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":_vm.$t('zip.placeholder'),\"prefix-icon\":\"el-icon-document\"},model:{value:(_vm.filename),callback:function ($$v) {_vm.filename=$$v},expression:\"filename\"}}),_c('el-button',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"type\":\"primary\",\"icon\":\"document\",\"loading\":_vm.downloadLoading},on:{\"click\":_vm.handleDownload}},[_vm._v(_vm._s(_vm.$t('zip.export'))+\" zip\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.list,\"element-loading-text\":\"拼命加载中\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ID\",\"width\":\"95\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.$index)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"Title\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.title)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"Author\",\"width\":\"95\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',[_vm._v(_vm._s(scope.row.author))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Readings\",\"width\":\"115\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.pageviews)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"Date\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_c('span',[_vm._v(_vm._s(scope.row.display_time))])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container\">\n    <!-- $t is vue-i18n global function to translate lang -->\n    <el-input style='width:300px;' :placeholder=\"$t('zip.placeholder')\" prefix-icon=\"el-icon-document\" v-model=\"filename\"></el-input>\n    <el-button style='margin-bottom:20px;' type=\"primary\" icon=\"document\" @click=\"handleDownload\" :loading=\"downloadLoading\">{{$t('zip.export')}} zip</el-button>\n    <el-table :data=\"list\" v-loading.body=\"listLoading\" element-loading-text=\"拼命加载中\" border fit highlight-current-row>\n      <el-table-column align=\"center\" label='ID' width=\"95\">\n        <template slot-scope=\"scope\">\n          {{scope.$index}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Title\">\n        <template slot-scope=\"scope\">\n          {{scope.row.title}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Author\" width=\"95\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag>{{scope.row.author}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Readings\" width=\"115\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{scope.row.pageviews}}\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" label=\"Date\" width=\"220\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-time\"></i>\n          <span>{{scope.row.display_time}}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { fetchList } from '@/api/old/article';\n\nexport default {\n  name: 'exportZip',\n  data() {\n    return {\n      list: null,\n      listLoading: true,\n      downloadLoading: false,\n      filename: '',\n    };\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.listLoading = true;\n      fetchList().then(res => {\n        this.list = res.data.items;\n        this.listLoading = false;\n      });\n    },\n    handleDownload() {\n      this.downloadLoading = true;\n      // import('@/vendor/Export2Zip').then((zip) => {\n      //   const tHeader = ['Id', 'Title', 'Author', 'Readings', 'Date']\n      //   const filterVal = ['id', 'title', 'author', 'pageviews', 'display_time']\n      //   const { list } = this\n      //   const data = this.formatJson(filterVal, list)\n      //   zip.export_txt_to_zip(tHeader, data, this.filename, this.filename)\n      //   this.downloadLoading = false\n      // })\n    },\n    formatJson(filterVal, jsonData) {\n      return jsonData.map(v => filterVal.map(j => v[j]));\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=71cc977e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","// import fetch from './fetch'\nimport axios from './axios';\n\n// export default fetch\nexport default axios;\n","import request from '@/api/request';\n\nexport function fetchList(query) {\n  return request({\n    url: '/article/list',\n    method: 'get',\n    params: query,\n  });\n}\n\nexport function fetchArticle() {\n  return request({\n    url: '/article/detail',\n    method: 'get',\n  });\n}\n\nexport function fetchPv(pv) {\n  return request({\n    url: '/article/pv',\n    method: 'get',\n    params: { pv },\n  });\n}\n\nexport function createArticle(data) {\n  return request({\n    url: '/article/create',\n    method: 'post',\n    data,\n  });\n}\n\nexport function updateArticle(data) {\n  return request({\n    url: '/article/update',\n    method: 'post',\n    data,\n  });\n}\n"],"sourceRoot":""}