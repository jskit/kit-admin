{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./src/views/permission/components/SwitchRoles.vue?8a21","webpack:///src/views/permission/components/SwitchRoles.vue","webpack:///./src/views/permission/components/SwitchRoles.vue?a778","webpack:///./src/views/permission/components/SwitchRoles.vue","webpack:///./src/views/permission/directive.vue?fb6d","webpack:///./src/views/permission/directive.vue?7c31","webpack:///./src/directive/permission/permission.js","webpack:///./src/directive/permission/index.js","webpack:///src/views/permission/directive.vue","webpack:///./src/views/permission/directive.vue?4c33","webpack:///./src/views/permission/directive.vue","webpack:///./node_modules/core-js/modules/_string-context.js"],"names":["$export","__webpack_require__","context","INCLUDES","P","F","includes","searchString","this","indexOf","arguments","length","undefined","MATCH","module","exports","KEY","re","e","f","render","_vm","_h","$createElement","_c","_self","staticStyle","margin-bottom","_v","_s","$t","roles","model","value","callback","$$v","switchRoles","expression","attrs","label","staticRenderFns","SwitchRolesvue_type_script_lang_js_","computed","$store","getters","get","set","val","_this","dispatch","then","$emit","components_SwitchRolesvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_directive_vue_vue_type_style_index_0_id_f8c9127c_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_directive_vue_vue_type_style_index_0_id_f8c9127c_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","staticClass","on","change","handleRolesChange","key","margin-top","directives","name","rawName","size","permission","inserted","el","binding","vnode","store","Array","Error","permissionRoles","hasPermission","some","role","parentNode","removeChild","install","Vue","directive","window","use","directivevue_type_script_lang_js_","components","SwitchRoles","directive_permission","data","methods","permission_directivevue_type_script_lang_js_","isRegExp","defined","that","NAME","TypeError","String"],"mappings":"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","file":"static/js/x-72.fc0776aa.js","sourcesContent":["// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_vm._v(_vm._s(_vm.$t('permission.roles'))+\"： \"+_vm._s(_vm.roles))]),_vm._v(\"\\n  \"+_vm._s(_vm.$t('permission.switchRoles'))+\"：\\n  \"),_c('el-radio-group',{model:{value:(_vm.switchRoles),callback:function ($$v) {_vm.switchRoles=$$v},expression:\"switchRoles\"}},[_c('el-radio-button',{attrs:{\"label\":\"editor\"}}),_c('el-radio-button',{attrs:{\"label\":\"admin\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div style=\"margin-bottom:15px;\">{{$t('permission.roles')}}： {{roles}}</div>\n    {{$t('permission.switchRoles')}}：\n    <el-radio-group v-model=\"switchRoles\">\n      <el-radio-button label=\"editor\"></el-radio-button>\n      <el-radio-button label=\"admin\"></el-radio-button>\n    </el-radio-group>\n  </div>\n</template>\n\n<script>\nexport default {\n  computed: {\n    roles() {\n      return this.$store.getters.roles;\n    },\n    switchRoles: {\n      get() {\n        return this.roles[0];\n      },\n      set(val) {\n        this.$store.dispatch('ChangeRoles', val).then(() => {\n          this.$emit('change');\n        });\n      },\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchRoles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchRoles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SwitchRoles.vue?vue&type=template&id=4ae329c1&\"\nimport script from \"./SwitchRoles.vue?vue&type=script&lang=js&\"\nexport * from \"./SwitchRoles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"SwitchRoles.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./directive.vue?vue&type=style&index=0&id=f8c9127c&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./directive.vue?vue&type=style&index=0&id=f8c9127c&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('switch-roles',{on:{\"change\":_vm.handleRolesChange}}),_c('div',{key:_vm.key,staticStyle:{\"margin-top\":\"30px\"}},[_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['admin']),expression:\"['admin']\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n      Only \"),_c('el-tag',{staticClass:\"permission-tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"admin\")]),_vm._v(\" can see this\\n    \")],1),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['editor']),expression:\"['editor']\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n      Only \"),_c('el-tag',{staticClass:\"permission-tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"editor\")]),_vm._v(\" can see this\\n    \")],1),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:([]),expression:\"[]\"}],staticClass:\"permission-alert\"},[_vm._v(\"\\n      Both \"),_c('el-tag',{staticClass:\"permission-tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"admin\")]),_vm._v(\" and \"),_c('el-tag',{staticClass:\"permission-tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"editor\")]),_vm._v(\" can see this\\n    \")],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from '@/store';\n\nexport default {\n  inserted(el, binding, vnode) {\n    const { value } = binding;\n    const roles = store.getters && store.getters.roles;\n\n    if (value && value instanceof Array && value.length > 0) {\n      const permissionRoles = value;\n\n      const hasPermission = roles.some(role => {\n        return permissionRoles.includes(role);\n      });\n\n      if (!hasPermission) {\n        el.parentNode && el.parentNode.removeChild(el);\n      }\n    } else {\n      throw new Error(`need roles! Like v-permission=\"['admin','editor']\"`);\n    }\n  },\n};\n","import permission from './permission';\n\nconst install = Vue => {\n  Vue.directive('permission', permission);\n};\n\nif (window.Vue) {\n  window.permission = permission;\n  Vue.use(install); // eslint-disable-line\n}\n\npermission.install = install;\nexport default permission;\n","<template>\n  <div class=\"app-container\">\n    <switch-roles @change=\"handleRolesChange\" />\n\n    <div :key=\"key\" style=\"margin-top:30px;\">\n      <span v-permission=\"['admin']\" class=\"permission-alert\">\n        Only <el-tag class=\"permission-tag\" size=\"small\">admin</el-tag> can see this\n      </span>\n      <span v-permission=\"['editor']\" class=\"permission-alert\">\n        Only <el-tag class=\"permission-tag\" size=\"small\">editor</el-tag> can see this\n      </span>\n      <span v-permission=\"[]\" class=\"permission-alert\">\n        Both <el-tag class=\"permission-tag\" size=\"small\">admin</el-tag> and <el-tag class=\"permission-tag\" size=\"small\">editor</el-tag> can see this\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport permission from '@/directive/permission/index.js'; // 权限判断指令\nimport SwitchRoles from './components/SwitchRoles';\n\nexport default {\n  name: 'directivePermission',\n  components: { SwitchRoles },\n  directives: { permission },\n  data() {\n    return {\n      key: 1, // 为了能每次切换权限的时候重新初始化指令\n    };\n  },\n  methods: {\n    handleRolesChange() {\n      this.key++;\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.app-container {\n  /deep/ .permission-alert {\n    width: 320px;\n    margin-top: 30px;\n    background-color: #f0f9eb;\n    color: #67c23a;\n    padding: 8px 16px;\n    border-radius: 4px;\n    display: block;\n  }\n  /deep/ .permission-tag{\n    background-color: #ecf5ff;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./directive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./directive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./directive.vue?vue&type=template&id=f8c9127c&scoped=true&\"\nimport script from \"./directive.vue?vue&type=script&lang=js&\"\nexport * from \"./directive.vue?vue&type=script&lang=js&\"\nimport style0 from \"./directive.vue?vue&type=style&index=0&id=f8c9127c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8c9127c\",\n  null\n  \n)\n\ncomponent.options.__file = \"directive.vue\"\nexport default component.exports","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n"],"sourceRoot":""}