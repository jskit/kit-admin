{"version":3,"sources":["webpack:///./src/views/table/index.vue?1454","webpack:///./src/api/old/table.js","webpack:///src/views/table/index.vue","webpack:///./src/views/table/index.vue?e8cc","webpack:///./src/views/table/index.vue","webpack:///./src/api/request/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","inline","model","queryForm","label","placeholder","nativeOn","keyup","$event","_k","keyCode","key","paginate","value","callback","$$v","$set","expression","type","on","click","_v","addUser","directives","name","rawName","modifiers","body","data","list","element-loading-text","header-row-class-name","border","stripe","fit","highlight-current-row","align","width","scopedSlots","_u","fn","scope","_s","$index","prop","min-width","class-name","_f","row","status","display_time","fixed","to","path","size","preventDefault","stopPropagation","onUpdate","id","channel","disabled","onRemove","staticRenderFns","getTableList","params","request","url","method","tablevue_type_script_lang_js_","listLoading","pagination","current_page","per_page","total","filters","statusFilter","statusMap","published","draft","deleted","created","fetchData","methods","_this","Object","objectSpread","listQuery","then","res","items","num","_len","arguments","length","rest","Array","_key","console","log","onChangeStatus","_len2","_key2","_this2","$confirm","confirmButtonText","cancelButtonText","onDelete","catch","_this3","$api","removeZt","$message","message","err","views_tablevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axios"],"mappings":"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","file":"static/js/x-78.b8ec0203.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.queryForm}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"姓名或账户\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.paginate(1)}},model:{value:(_vm.queryForm.title),callback:function ($$v) {_vm.$set(_vm.queryForm, \"title\", $$v)},expression:\"queryForm.title\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.paginate(1)}}},[_vm._v(\"搜索\")]),_c('el-button',{on:{\"click\":_vm.addUser}},[_vm._v(\"添加\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],attrs:{\"data\":_vm.list,\"element-loading-text\":\"Loading\",\"header-row-class-name\":\"el-table-head\",\"border\":\"\",\"stripe\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ID\",\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.$index)+\"\\n      \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"Title\",\"prop\":\"title\",\"min-width\":\"200\"}}),_c('el-table-column',{attrs:{\"label\":\"Author\",\"prop\":\"author\"}}),_c('el-table-column',{attrs:{\"label\":\"Pageviews\",\"prop\":\"pageviews\",\"width\":\"110\"}}),_c('el-table-column',{attrs:{\"class-name\":\"status-col\",\"label\":\"Status\",\"width\":\"110\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilter\")(scope.row.status)}},[_vm._v(_vm._s(scope.row.status))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"created_at\",\"label\":\"Display_time\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_c('span',[_vm._v(_vm._s(scope.row.display_time))])]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"min-width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('router-link',{attrs:{\"to\":{ path: '/example' }}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();_vm.onUpdate(scope.row.id, scope.row.channel)}}},[_vm._v(\"编辑\")])],1),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":!!scope.row.status},on:{\"click\":function($event){_vm.onRemove(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/api/request';\n\nexport function getTableList(params) {\n  return request({\n    url: '/table/list',\n    method: 'get',\n    params,\n  });\n}\nexport function getAccountList(params) {\n  return request({\n    url: '/user/account',\n    method: 'get',\n    params,\n  });\n}\nexport function getUserList(params) {\n  return request({\n    url: '/user/list',\n    method: 'get',\n    params,\n  });\n}\n","<template>\n  <div class=\"app-container\">\n    <el-form\n    :inline=\"true\"\n    :model=\"queryForm\">\n      <el-form-item label=\"\">\n        <el-input placeholder=\"姓名或账户\" v-model=\"queryForm.title\" @keyup.enter.native=\"paginate(1)\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"paginate(1)\">搜索</el-button>\n        <el-button @click=\"addUser\">添加</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n    :data=\"list\"\n    v-loading.body=\"listLoading\"\n    element-loading-text=\"Loading\"\n    header-row-class-name=\"el-table-head\"\n    border stripe fit highlight-current-row\n    >\n      <el-table-column align=\"center\" label='ID' width=\"50\">\n        <template slot-scope=\"scope\">\n          {{scope.$index}}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Title\" prop=\"title\" min-width=\"200\"></el-table-column>\n      <el-table-column label=\"Author\" prop=\"author\"></el-table-column>\n      <el-table-column label=\"Pageviews\" prop=\"pageviews\" width=\"110\"></el-table-column>\n      <el-table-column class-name=\"status-col\" label=\"Status\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"scope.row.status | statusFilter\">{{scope.row.status}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"created_at\" label=\"Display_time\" width=\"130\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-time\"></i>\n          <span>{{scope.row.display_time}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column fixed=\"right\" label=\"操作\" min-width=\"130\">\n        <template slot-scope=\"scope\">\n          <router-link :to=\"{ path: '/example' }\">\n            <el-button type=\"text\" size=\"small\" @click.prevent.stop=\"onUpdate(scope.row.id, scope.row.channel)\">编辑</el-button>\n          </router-link>\n          <!-- <el-button type=\"text\" size=\"small\" @click=\"onChangeStatus(scope.row.id, scope.row.status)\">{{scope.row.status ? '下线' : '上线' }}</el-button> -->\n          <el-button type=\"text\" size=\"small\" @click=\"onRemove(scope.row.id)\" :disabled=\"!!scope.row.status\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { getTableList } from '@/api/old/table';\n\nexport default {\n  data() {\n    return {\n      list: null,\n      listLoading: true,\n      queryForm: {\n        name: '', // name or account\n      },\n      pagination: {\n        current_page: 1,\n        per_page: 20, // 固定不变\n        total: 0,\n      },\n    };\n  },\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'gray',\n        deleted: 'danger',\n      };\n      return statusMap[status];\n    },\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.listLoading = true;\n      getTableList({\n        ...this.listQuery,\n      }).then(res => {\n        this.list = res.data.items;\n        this.listLoading = false;\n      });\n    },\n    paginate(num) {\n      // console.log(num);\n      getTableList(num);\n    },\n    addUser() {\n      // 添加用户\n    },\n    onUpdate(...rest) {\n      console.log(rest);\n    },\n    onChangeStatus(...rest) {\n      console.log(rest);\n    },\n    onRemove(id) {\n      this.$confirm('确认删除该专题?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      })\n        .then(() => {\n          this.onDelete(id);\n        })\n        .catch(() => {});\n    },\n    onDelete(id) {\n      this.$api\n        .removeZt({ id })\n        .then(res => {\n          this.$message({\n            message: '专题删除成功',\n            type: 'success',\n          });\n          this.paginate(this.pagination.current_page);\n        })\n        .catch(err => {});\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=c5f48846&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","// import fetch from './fetch'\nimport axios from './axios';\n\n// export default fetch\nexport default axios;\n"],"sourceRoot":""}