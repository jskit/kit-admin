{"version":3,"sources":["webpack:///./src/views/tools/link.vue?2e42","webpack:///src/views/tools/link.vue","webpack:///./src/views/tools/link.vue?ad46","webpack:///./src/views/tools/link.vue","webpack:///./src/views/tools/link.vue?c5e8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","form","label-width","_v","label","value","callback","$$v","$set","expression","placeholder","slot","directives","name","rawName","dist","_l","key","_s","output","tip","href","target","type","on","click","onSubmit","shortUrl","staticRenderFns","stringify","params","arguments","length","undefined","temp","arr","push","concat","join","getPage","page","source","indexOf","minis","point","couple","getAliSchema","appId","getMiniSchema","_ref","appid","appname","getMiniOther","getHttpUrl","schemaUrl","encodeURIComponent","otherMinis","in最美证件照","in照片打印定制","linkvue_type_script_lang_js_","data","createShortUrl","othermini","miniapp","channel","result","computed","computedUrl","methods","_this$form","_this$form$source","_this$form$dist","_this$form$params","_this$form$page","_this$form$channel","_this$form$spm","spm","channelParams","channel_id","url","query","tempParams","miniApp","resultUrl","console","log","$message","message","onCancel","tools_linkvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_link_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_link_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/x-81.7fbcf98c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"120px\"}},[_c('el-form-item',[_c('p',[_vm._v(\"以下功能支持自动生成 \"),_c('b',[_vm._v(\"场景A\")]),_vm._v(\" -> \"),_c('b',[_vm._v(\"场景B\")]),_vm._v(\" 的跳转链接\")])]),_c('el-form-item',{attrs:{\"label\":\"在哪配置\"}},[_c('el-radio-group',{model:{value:(_vm.form.source),callback:function ($$v) {_vm.$set(_vm.form, \"source\", $$v)},expression:\"form.source\"}},[_c('el-radio',{attrs:{\"label\":\"life\"}},[_vm._v(\"生活号/H5页面\")]),_c('el-radio',{attrs:{\"label\":\"couple\"}},[_vm._v(\"拼团小程序\")]),_c('el-radio',{attrs:{\"label\":\"point\"}},[_vm._v(\"积分小程序\")]),_c('el-radio',{attrs:{\"label\":\"message\"}},[_vm._v(\"短信\")]),_c('el-radio',{attrs:{\"label\":\"tplmsg\"}},[_vm._v(\"模板消息\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"选择页面\"}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"如需要参数，请输入参数 如 id=xxx topic_code=xxx\"},model:{value:(_vm.form.params),callback:function ($$v) {_vm.$set(_vm.form, \"params\", $$v)},expression:\"form.params\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.form.page),callback:function ($$v) {_vm.$set(_vm.form, \"page\", $$v)},expression:\"form.page\"}},[_c('el-option',{attrs:{\"label\":\"首页 index\",\"value\":\"index\"}}),_c('el-option',{attrs:{\"label\":\"详情 detail\",\"value\":\"detail\"}}),_c('el-option',{attrs:{\"label\":\"专题 zt2\",\"value\":\"zt2\"}}),_c('el-option',{attrs:{\"label\":\"个人中心 profile\",\"value\":\"profile\"}}),_c('el-option',{attrs:{\"label\":\"订单列表 order-list\",\"value\":\"order-list\"}}),_c('el-option',{attrs:{\"label\":\"订单详情 order-detail\",\"value\":\"order-detail\"}}),_c('el-option',{attrs:{\"label\":\"邀请拼团 couple-share\",\"value\":\"couple-share\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"跳转到哪里\"}},[_c('el-radio-group',{model:{value:(_vm.form.dist),callback:function ($$v) {_vm.$set(_vm.form, \"dist\", $$v)},expression:\"form.dist\"}},[_c('el-radio',{attrs:{\"label\":\"life\"}},[_vm._v(\"生活号\")]),_c('el-radio',{attrs:{\"label\":\"couple\"}},[_vm._v(\"拼团小程序\")]),_c('el-radio',{attrs:{\"label\":\"point\"}},[_vm._v(\"积分小程序\")]),_c('el-radio',{attrs:{\"label\":\"othermini\"}},[_vm._v(\"其他小程序\")])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.dist === 'othermini'),expression:\"form.dist === 'othermini'\"}]},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"其他小程序链接 如 ${page}?appid=${appId}&xx=xxx\"},model:{value:(_vm.form.othermini),callback:function ($$v) {_vm.$set(_vm.form, \"othermini\", $$v)},expression:\"form.othermini\"}}),_c('div',{staticClass:\"content-example\"},_vm._l((_vm.otherMinis),function(value,key){return _c('p',{key:key},[_vm._v(\"\\n            \"+_vm._s(key)+\": \"+_vm._s(value)+\"\\n          \")])}))],1)],1),_c('el-form-item',{attrs:{\"label\":\"是否需要渠道\"}},[_c('el-radio-group',{model:{value:(_vm.form.channel),callback:function ($$v) {_vm.$set(_vm.form, \"channel\", $$v)},expression:\"form.channel\"}},[_c('el-radio',{attrs:{\"label\":\"\"}},[_vm._v(\"无渠道\")]),_c('el-radio',{attrs:{\"label\":\"point\"}},[_vm._v(\"积分小程序\")]),_c('el-radio',{attrs:{\"label\":\"alipay_ant\"}},[_vm._v(\"蚂蚁会员\")]),_c('el-radio',{attrs:{\"label\":\"huabei\"}},[_vm._v(\"花呗\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"生成结果\"}},[_c('div',{staticClass:\"output\"},[_c('div',{staticClass:\"output-item\"},[_vm._v(_vm._s(_vm.output))]),_c('div',{staticClass:\"output-item\"},[_vm._v(_vm._s(_vm.tip))])])]),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.createShortUrl),expression:\"form.createShortUrl\"}]},[_c('a',{attrs:{\"href\":\"http://dwz.wailian.work/\",\"target\":\"_blank\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"生成短链接\")])],1)]),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('div',{staticClass:\"output\"},[_c('div',{staticClass:\"output-item\"},[_vm._v(_vm._s(_vm.form.shortUrl))])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container\">\n    <el-form ref=\"form\" :model=\"form\" label-width=\"120px\">\n      <el-form-item>\n        <!-- <h4>链接种类太多，不知道怎么配置，怎么办？</h4> -->\n        <p>以下功能支持自动生成 <b>场景A</b> -> <b>场景B</b> 的跳转链接</p>\n      </el-form-item>\n      <el-form-item label=\"在哪配置\">\n        <el-radio-group v-model=\"form.source\">\n          <el-radio label=\"life\">生活号/H5页面</el-radio>\n          <el-radio label=\"couple\">拼团小程序</el-radio>\n          <el-radio label=\"point\">积分小程序</el-radio>\n          <el-radio label=\"message\">短信</el-radio>\n          <el-radio label=\"tplmsg\">模板消息</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"选择页面\">\n        <el-input placeholder=\"如需要参数，请输入参数 如 id=xxx topic_code=xxx\" v-model=\"form.params\" class=\"input-with-select\">\n          <el-select v-model=\"form.page\" slot=\"prepend\" placeholder=\"请选择\">\n            <el-option label=\"首页 index\" value=\"index\"></el-option>\n            <el-option label=\"详情 detail\" value=\"detail\"></el-option>\n            <el-option label=\"专题 zt2\" value=\"zt2\"></el-option>\n            <el-option label=\"个人中心 profile\" value=\"profile\"></el-option>\n            <el-option label=\"订单列表 order-list\" value=\"order-list\"></el-option>\n            <el-option label=\"订单详情 order-detail\" value=\"order-detail\"></el-option>\n            <el-option label=\"邀请拼团 couple-share\" value=\"couple-share\"></el-option>\n          </el-select>\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"跳转到哪里\">\n        <el-radio-group v-model=\"form.dist\">\n          <el-radio label=\"life\">生活号</el-radio>\n          <el-radio label=\"couple\">拼团小程序</el-radio>\n          <el-radio label=\"point\">积分小程序</el-radio>\n          <el-radio label=\"othermini\">其他小程序</el-radio>\n        </el-radio-group>\n        <div v-show=\"form.dist === 'othermini'\">\n          <el-input placeholder=\"其他小程序链接 如 ${page}?appid=${appId}&xx=xxx\" v-model=\"form.othermini\" class=\"input-with-select\"></el-input>\n          <div class=\"content-example\">\n            <p v-for=\"(value, key) in otherMinis\" :key=\"key\">\n              {{ key }}: {{ value }}\n            </p>\n          </div>\n        </div>\n      </el-form-item>\n      <el-form-item label=\"是否需要渠道\">\n        <!-- <el-switch v-model=\"form.channel\"></el-switch>\n      </el-form-item>\n      <el-form-item label=\"目标渠道\"> -->\n        <el-radio-group v-model=\"form.channel\">\n          <el-radio label=\"\">无渠道</el-radio>\n          <el-radio label=\"point\">积分小程序</el-radio>\n          <el-radio label=\"alipay_ant\">蚂蚁会员</el-radio>\n          <el-radio label=\"huabei\">花呗</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"生成结果\">\n        <div class=\"output\">\n          <div class=\"output-item\">{{ output }}</div>\n          <div class=\"output-item\">{{ tip }}</div>\n        </div>\n      </el-form-item>\n      <el-form-item v-show=\"form.createShortUrl\">\n        <!-- <el-button type=\"primary\" @click=\"onSubmit\">生成短链接</el-button> -->\n        <a href=\"http://dwz.wailian.work/\" target=\"_blank\">\n          <el-button type=\"primary\" @click=\"onSubmit\">生成短链接</el-button>\n        </a>\n        <!-- <el-button type=\"danger\" @click=\"onCancel\">重置</el-button> -->\n      </el-form-item>\n      <el-form-item label=\"\">\n        <div class=\"output\">\n          <div class=\"output-item\">{{ form.shortUrl }}</div>\n        </div>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n// import { ajax } from '@/api/request';\n// import base64 from '@/utils/base64';\n\nfunction stringify(params = {}) {\n  if (typeof params === 'string') return params;\n  const temp = params;\n  const arr = [];\n  for (const key in params) {\n    if (!temp[key]) {\n      delete temp[key];\n    } else {\n      arr.push(`${key}=${temp[key]}`);\n    }\n  }\n  return arr.join('&');\n}\nconst getPage = (page, source) => {\n  if (!page) return '';\n  if (['life', 'message'].indexOf(source) > -1 && page === 'index') return '';\n  return `pages/${page}/${page}`;\n};\n\nconst minis = {\n  point: 2018051160096372,\n  couple: 2017112000051610,\n};\n\nconst getAliSchema = name => {\n  const appId = minis[name];\n  return `alipays://platformapi/startApp?appId=${appId}`;\n};\nconst getMiniSchema = ({ page, appid, appname }) => {\n  let params = appid ? `appid=${appid}` : `appname=${appname}`;\n  if (appname && minis[appname]) {\n    params = `appname=${appname}`;\n  }\n  return `miniapp://pages/${page}/${page}?${params}`;\n};\nconst getMiniOther = params => {\n  return `miniapp://${params}`;\n};\nconst getHttpUrl = schemaUrl => {\n  return `https://ds.alipay.com/?from=mobilecodec&scheme=${encodeURIComponent(\n    schemaUrl\n  )}`;\n};\n\n/* eslint quote-props: 0 */\nconst otherMinis = {\n  in最美证件照: 'pages/index?appid=2018013102119843&chanel=Haoshiqi',\n  in照片打印定制: 'pages/index/index?appid=2017111409929370&_s=haoshiqi',\n};\n\nexport default {\n  data() {\n    return {\n      otherMinis,\n      form: {\n        createShortUrl: false,\n        source: 'life',\n        page: 'index',\n        params: '',\n        dist: 'couple',\n        othermini: otherMinis[0],\n        miniapp: false,\n        channel: '',\n        tip: '',\n        result: '',\n        shortUrl: '',\n      },\n    };\n  },\n  computed: {\n    output() {\n      return this.computedUrl();\n    },\n  },\n  methods: {\n    computedUrl() {\n      // 一系列运算\n      // 判断当前以及目标环境，页面以及参数，渠道信息，生成结果\n      /* eslint prefer-const: 0 */\n      this.tip = '';\n      let {\n        source = '',\n        dist = '',\n        params = '',\n        page = 'index',\n        channel = '',\n        spm = '',\n      } = this.form;\n      this.form.createShortUrl = source === 'message';\n      if (params) {\n        params = `?${params}`;\n      }\n      const channelParams = stringify({\n        spm,\n        channel_id: channel,\n      });\n      const url = {\n        query: encodeURIComponent(channelParams),\n        page: `${getPage(page, source)}${encodeURIComponent(params)}`,\n      };\n      let result = stringify(url);\n      switch (source) {\n        case 'tplmsg':\n          if (dist === 'life') {\n            this.tip = '暂未支持！！！';\n            return '';\n          }\n          if (['couple', 'point'].indexOf(dist) > -1) {\n            this.tip = '模板消息，跳转到对应小程序，支持配置渠道';\n            params = params\n              ? `${params}${channelParams}`\n              : channelParams\n                ? `?${channelParams}`\n                : `${channelParams}`;\n            return `${getPage(page)}${params}`;\n          }\n          break;\n        /* eslint no-case-declarations: 0 */\n        case 'couple':\n        case 'point':\n          if (dist === 'life') {\n            this.tip = '小程序不支持向外跳转！！！';\n            return '';\n          }\n          if (dist === source) {\n            this.tip =\n              '这是小程序内跳转，直接使用以前的H5链接即可，注意：此时暂不支持渠道';\n            this.form.channel = '';\n            return ``;\n            // return `${getPage(page)}${params}`;\n          }\n          this.tip = '这是小程序间跳转';\n          if (dist === 'point') {\n            channel = channel ? `&channel_id=${channel}` : '';\n          } else {\n            this.tip += '，跳转拼团小程序不支持渠道';\n            channel = '';\n          }\n          if (dist === 'othermini') {\n            this.tip += '，跳转其他小程序，请设置跳转页面以及appid，请参考示例';\n            channel = '';\n            result = getMiniOther(this.form.othermini);\n            return result;\n          }\n          let tempParams = this.form.params;\n          if (tempParams) {\n            tempParams = `&${tempParams}`;\n          }\n          const miniApp = {\n            page,\n            appname: dist,\n            appid: minis[dist],\n          };\n          result = `${getMiniSchema(miniApp)}${channel}${tempParams}`;\n          break;\n        case 'message': {\n          this.tip = '短信内限制必须使用http协议';\n          // if (dist === 'life') {\n          //   return 'alipays://platformapi/startapp?appId=20000943&path=homepage&groupId=027be25993b141474225295709100000&sourceId=referLink';\n          // }\n          if (dist === 'life') {\n            this.tip = '这个？O__O … 你自己有的吧';\n            return '';\n          }\n          if (result) result = `&${result}`;\n          const schemaUrl = `${getAliSchema(dist)}${result}`;\n          result = `${getHttpUrl(schemaUrl)}`;\n          break;\n        }\n        case 'life':\n          // 生活号配置跳转到小程序，需要使用alipaySchema\n          if (dist === 'life') {\n            this.tip = '你本就可以随意配置';\n            return '';\n          }\n          if (result) result = `&${result}`;\n          result = `${getAliSchema(dist)}${result}`;\n          break;\n        default:\n        // do nothing...\n      }\n\n      this.resultUrl = result;\n      return result;\n    },\n    onSubmit() {\n      if (this.form.source !== 'message') {\n        this.$message({\n          message: '暂时只支持短信配置生成短链接',\n          type: 'warning',\n        });\n        return;\n      }\n\n      console.log(111);\n      // this.shortUrl = '请打开链接自己生成';\n      // 都存在跨域问题，无法直接调用生成结果\n      // http://dwz.wailian.work/\n      // http://dwz.cn/\n      // const base64Url = base64.encode(this.resultUrl);\n      // ajax({\n      //   // url: 'http://dwz.cn/create.php',\n      //   url: 'http://dwz.wailian.work/api.php',\n      //   method: 'post',\n      //   data: {\n      //     url: base64Url,\n      //     // site: sina\n      //   },\n      // }).then((res) => {\n      //   console.log(res);\n      //   this.loading = false;\n      // }).catch(err => {\n      //   this.loading = false;\n      // });\n    },\n    onCancel() {\n      this.$message({\n        message: 'reset!',\n        type: 'warning',\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\">\n.line{\n  text-align: center;\n}\n.output {\n  max-width: 600px;\n  padding-top: 10px;\n  line-height: 1.5;\n  word-break: break-all;\n\n  .output-item {\n    margin-bottom: 16px;\n  }\n  .output-item:empty {\n    display: none;\n  }\n}\n.input-with-select .el-input__inner {\n  // width: 130px;\n  min-width: 240px;\n}\n.input-with-select .el-input-group__prepend {\n  // background-color: #fff;\n}\n.content-example {\n  line-height: 1.5;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./link.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./link.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./link.vue?vue&type=template&id=cf9767dc&\"\nimport script from \"./link.vue?vue&type=script&lang=js&\"\nexport * from \"./link.vue?vue&type=script&lang=js&\"\nimport style0 from \"./link.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"link.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./link.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./link.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}