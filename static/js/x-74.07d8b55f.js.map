{"version":3,"sources":["webpack:///./src/views/qiniu/upload.vue?65e9","webpack:///src/views/qiniu/upload.vue","webpack:///./src/views/qiniu/upload.vue?4e88","webpack:///./src/views/qiniu/upload.vue","webpack:///./src/api/old/qiniu.js","webpack:///./src/api/request/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","action","data","dataObj","drag","multiple","before-upload","beforeUpload","staticClass","_v","staticRenderFns","uploadvue_type_script_lang_js_","token","key","image_uri","fileList","methods","that","Promise","resolve","reject","Object","qiniu","then","res","qiniu_key","qiniu_token","_data","catch","err","console","log","qiniu_uploadvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","__webpack_require__","d","getToken","_api_request__WEBPACK_IMPORTED_MODULE_0__","request","url","method","_axios__WEBPACK_IMPORTED_MODULE_0__","axios"],"mappings":"+GAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBE,OAAOC,OAAA,yBAAAC,KAAAR,EAAAS,QAAAC,KAAA,GAAAC,UAAA,EAAAC,gBAAAZ,EAAAa,gBAAiHT,EAAA,KAAUU,YAAA,mBAA6BV,EAAA,OAAYU,YAAA,oBAA8Bd,EAAAe,GAAA,aAAAX,EAAA,MAAAJ,EAAAe,GAAA,eACzTC,iBCYAC,GACAT,KADA,WAEA,OACAC,SAAAS,MAAA,GAAAC,IAAA,IACAC,aACAC,cAGAC,SACAT,aADA,WAEA,IAAAU,EAAAtB,KACA,WAAAuB,QAAA,SAAAC,EAAAC,GACQC,OAAAC,EAAA,KAAAD,GACRE,KAAA,SAAAC,GACA,IAAAX,EAAAW,EAAAtB,KAAAuB,UACAb,EAAAY,EAAAtB,KAAAwB,YAEAT,EAAAU,MAAAxB,QAAAS,QACAK,EAAAU,MAAAxB,QAAAU,MACAM,GAAA,KAEAS,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GAEAT,GAAA,UCrCkYY,EAAA,cCOlYC,EAAgBZ,OAAAa,EAAA,KAAAb,CACdW,EACAvC,EACAiB,GACF,EACA,KACA,KACA,MAIAuB,EAAAE,QAAAC,OAAA,aACeC,EAAA,WAAAJ,6CCnBfK,EAAAC,EAAAF,EAAA,sBAAAG,IAAA,IAAAC,EAAAH,EAAA,QAEO,SAASE,IACd,OAAOE,gBACLC,IAAK,sBACLC,OAAQ,4CCLZ,IAAAC,EAAAP,EAAA,QAIeQ","file":"static/js/x-74.07d8b55f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{attrs:{\"action\":\"https://upload.qbox.me\",\"data\":_vm.dataObj,\"drag\":\"\",\"multiple\":true,\"before-upload\":_vm.beforeUpload}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-upload action=\"https://upload.qbox.me\" :data=\"dataObj\" drag :multiple=\"true\" :before-upload=\"beforeUpload\">\n    <i class=\"el-icon-upload\"></i>\n    <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n  </el-upload>\n</template>\n\n\n<script>\nimport { getToken } from '@/api/old/qiniu';\n// 获取七牛token 后端通过Access Key,Secret Key,bucket等生成token\n// 七牛官方sdk https://developer.qiniu.com/sdk#official-sdk\n\nexport default {\n  data() {\n    return {\n      dataObj: { token: '', key: '' },\n      image_uri: [],\n      fileList: [],\n    };\n  },\n  methods: {\n    beforeUpload() {\n      const that = this;\n      return new Promise((resolve, reject) => {\n        getToken()\n          .then(res => {\n            const key = res.data.qiniu_key;\n            const token = res.data.qiniu_token;\n            /* eslint no-underscore-dangle: 0 */\n            that._data.dataObj.token = token;\n            that._data.dataObj.key = key;\n            resolve(true);\n          })\n          .catch(err => {\n            console.log(err);\n            /* eslint prefer-promise-reject-errors: 0 */\n            reject(false);\n          });\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=18ba75a2&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"upload.vue\"\nexport default component.exports","import request from '@/api/request';\n\nexport function getToken() {\n  return request({\n    url: '/qiniu/upload/token', // 假地址 自行替换\n    method: 'get',\n  });\n}\n","// import fetch from './fetch'\nimport axios from './axios';\n\n// export default fetch\nexport default axios;\n"],"sourceRoot":""}